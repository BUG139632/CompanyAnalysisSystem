# Multi-Agent 项目开发规范

## 1. 目录结构规范
- 每个 Agent 独立一个模块（文件夹），通用代码放在 `common` 或 `utils` 目录。
- 配置文件统一放在 `config` 目录。
- 日志、数据、输出等有专门目录。

## 2. 代码风格
- 统一使用 PEP8（Python）代码规范。
- 变量、函数、类命名要有意义，遵循驼峰或下划线命名法。
- 每个模块、类、函数都要有 docstring 注释。

## 3. 数据与接口规范
- Agent 之间数据传递统一用 JSON 或 DataFrame，字段名、类型、单位要有文档说明。
- 输入输出接口要有明确的参数、返回值和异常说明。
- 错误码、异常信息结构统一。

## 4. 日志与监控
- 日志格式统一，包含时间戳、Agent 名、日志级别、消息内容。
- 日志级别分为 DEBUG/INFO/WARNING/ERROR/CRITICAL。
- 关键事件（启动、停止、异常、任务完成）必须打日志。
- 监控指标包括运行状态、处理数据量、耗时、错误率等。

## 5. 配置管理
- 所有配置集中管理，使用 YAML/JSON/TOML 文件。
- 敏感信息（如密钥、密码）用环境变量管理，不写入代码库。

## 6. 异常与容错
- 关键流程必须有异常捕获，不能让异常导致进程崩溃。
- 网络请求、IO 操作等要有重试机制，重试次数和间隔可配置。
- 失败要有日志和/或告警。

## 7. 任务与流程管理
- 每个任务/数据流转都带有唯一 ID，便于追踪。
- 任务状态分为：待处理、处理中、已完成、失败等。

## 8. 安全与合规
- 爬虫遵守 robots.txt 和相关法律法规。
- 敏感数据处理要有脱敏规则。
- 外部接口要有权限校验。

## 9. 依赖与环境
- 依赖用 requirements.txt/poetry/pipenv/conda 管理，锁定版本。
- 推荐使用虚拟环境，避免依赖冲突。

## 10. 测试与文档
- 每个 Agent 的核心逻辑要有单元测试，测试用例覆盖常见异常。
- 全流程要有集成测试。
- 代码、接口、配置项要有详细注释和文档。
- 项目根目录有 README，说明项目结构、依赖、运行方法等。

## 11. 扩展与插件机制
- 新 Agent 接入需遵循统一接口规范，注册到系统中。
- 通用功能（如 BaseAgent、工具类）放在公共模块，便于复用。

## 工作流说明
本项目的 agent 工作流如下：

1. CrawlerAgent（网络爬虫）
   - 负责多源数据采集，输出原始数据
2. DataCleanAgent（数据整合）
   - 对原始数据进行清洗、格式统一，输出结构化数据
3. AnalysisAgent（数据分析）
   - 统计分析、特征工程、模型预测，输出分析结果
4. VisualizationAgent（可视化）
   - 将分析结果可视化，生成图表/报告
5. ExpertAgent（专家系统）
   - 结合行业知识和分析结果，生成建议和解释
6. BusinessAnalysisAgent（经营分析）
   - 综合分析结果和专家建议，输出最终评估报告

各 agent 的输入输出需严格遵循接口规范，详见各模块文档。 