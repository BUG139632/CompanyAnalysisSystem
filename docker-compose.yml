version: '3.8'

services:
  investment-analysis:
    build: .
    container_name: investment-analysis
    volumes:
      # 挂载输出目录 - 用户可以直接访问
      - ./output:/app/output
      # 挂载数据目录 - 保存中间数据
      - ./data:/app/data
      # 挂载日志目录 - 保存运行日志
      - ./logs:/app/logs
      # 挂载配置文件 - 便于修改配置
      - ./config:/app/config
    environment:
      - PYTHONPATH=/app
      - PYTHONUNBUFFERED=1
      - GEMINI_API_KEY=${GEMINI_API_KEY:-}
    stdin_open: true
    tty: true
    restart: unless-stopped 